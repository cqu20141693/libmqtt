package rabbitmq

import (
	"github.com/spf13/viper"
	"github.com/streadway/amqp"
	"log"
	"testing"
	"time"
)

func TestConsumer(t *testing.T) {
	registerRabbitMQConsumer()
}

func registerRabbitMQConsumer() {
	// 新建连接
	exchange, route, queue := initRabbit()

	rabbit := NewRabbitMQ(exchange, route, queue)
	// 一般来说消费者不关闭，常驻进程进行消息消费处理
	// defer rabbit.Close()

	// 执行消费
	rabbit.Consume(func(d amqp.Delivery) {
		log.Println(string(d.Body))
		//log.Infof("rabbitmq", zap.String("rabbitmq", string(d.Body)))
	})

	time.Sleep(time.Second * 30)

}

func initRabbit() (string, string, string) {

	viper.Set(user, "guest")
	viper.Set(password, "guest")
	viper.Set(host, "173.27.166.29")
	viper.Set(port, "5672")
	viper.Set(vhost, "/")
	exchange := "yn_test"
	route := "yn_test"
	queue := "com-yaoneng-MES-RouterParmRelease-M.gaea_iiot"
	return exchange, route, queue
}

var (
	msg1 = "{\"messageType\":\"WRITE_PROPERTY\",\"deviceId\":\"Module_Baozhuang_FFT_Device_MQTT\",\"properties\":{\"RECIPIENT\":\"M\",\"REPLYSUBJECTNAME\":\"NA\",\"EVENTTIME\":\"2024-06-15 07:25:00\",\"EVENTUSER\":\"MES\",\"WORKSHOPSECTION\":\"M\",\"DATA\":\"[{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.389999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692767\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693655\\\",\\\"P_Bottom_Flatness\\\":\\\"0.214000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693249\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692714\\\",\\\"BARCODE\\\":\\\"E6M0101 00254 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:56:34\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693035\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693463\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693848\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693377\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.389999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692778\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692778\\\",\\\"P_Bottom_Flatness\\\":\\\"0.086500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692586\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692789\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0101 00286 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:21:22\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.691634\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693078\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692693\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693249\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.410000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692661\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692864\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.6928\\\",\\\"P_Bottom_Flatness\\\":\\\"0.237000\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0101 00280 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:23:06\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692671\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692832\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692896\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693163\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.389999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693506\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693131\\\",\\\"P_Bottom_Flatness\\\":\\\"0.174500\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693131\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00308 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:22:46\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693356\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693538\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692928\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692468\\\"},{\\\"P_Capacity\\\":\\\"232.127\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693345\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693687\\\",\\\"P_Bottom_Flatness\\\":\\\"0.136500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693185\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"P_Shipment_SOC\\\":\\\"48.73%\\\",\\\"BARCODE\\\":\\\"E6M0201 00313 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:16:37\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693965\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693206\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693281\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692992\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693463\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693516\\\",\\\"P_Bottom_Flatness\\\":\\\"0.087500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692735\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692703\\\",\\\"BARCODE\\\":\\\"E6M0201 00279 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:00:51\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692115\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693388\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692543\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692971\\\"},{\\\"P_Capacity\\\":\\\"232.203\\\",\\\"P_Weight\\\":\\\"29.389999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693035\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692821\\\",\\\"P_Bottom_Flatness\\\":\\\"0.137500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692447\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692618\\\",\\\"P_Shipment_SOC\\\":\\\"48.74%\\\",\\\"BARCODE\\\":\\\"E6M0201 00207 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:56:52\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692201\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692682\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692586\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692853\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.440001\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.69312\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.69311\\\",\\\"P_Bottom_Flatness\\\":\\\"0.206000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692767\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693388\\\",\\\"BARCODE\\\":\\\"E6M0201 00305 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:07:20\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69296\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693163\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693249\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692607\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.389999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693377\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693281\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693013\\\",\\\"P_Bottom_Flatness\\\":\\\"0.311000\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0101 00251 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:02:58\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693623\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692596\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692628\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693495\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692949\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692949\\\",\\\"P_Bottom_Flatness\\\":\\\"0.301000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693195\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692415\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"BARCODE\\\":\\\"E6M0101 00283 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:10:22\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693153\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.69281\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693249\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692853\\\"},{\\\"P_Capacity\\\":\\\"232.127\\\",\\\"P_Weight\\\":\\\"29.379999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692596\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693292\\\",\\\"P_Bottom_Flatness\\\":\\\"0.412000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693003\\\",\\\"P_Shipment_SOC\\\":\\\"48.73%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.69358\\\",\\\"BARCODE\\\":\\\"E6M0201 00314 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:16:25\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692971\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693431\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.69281\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.6928\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692318\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.69265\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692532\\\",\\\"P_Bottom_Flatness\\\":\\\"0.116000\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692575\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00310 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:13:38\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692682\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692596\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692222\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.450001\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692971\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692832\\\",\\\"P_Bottom_Flatness\\\":\\\"0.534500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692254\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693538\\\",\\\"BARCODE\\\":\\\"E6M0201 00280 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:01:03\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693153\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693441\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692725\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692607\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.420000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692639\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693195\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692789\\\",\\\"P_Bottom_Flatness\\\":\\\"0.139500\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693441\\\",\\\"BARCODE\\\":\\\"E6M0201 00307 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:05:26\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692885\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693399\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692714\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693099\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.389999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.69358\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693377\\\",\\\"P_Bottom_Flatness\\\":\\\"0.120500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692778\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.69296\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"BARCODE\\\":\\\"E6M0201 00304 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:10:16\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692767\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692693\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.69265\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693292\\\"},{\\\"P_Capacity\\\":\\\"232.127\\\",\\\"P_Weight\\\":\\\"29.420000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693345\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693163\\\",\\\"P_Bottom_Flatness\\\":\\\"0.397500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693302\\\",\\\"P_Shipment_SOC\\\":\\\"48.73%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693292\\\",\\\"BARCODE\\\":\\\"E6M0201 00320 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:16:31\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693677\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692639\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693013\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.410000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692468\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692393\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692383\\\",\\\"P_Bottom_Flatness\\\":\\\"0.190000\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692318\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00311 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:22:59\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69234\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.69219\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692468\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692318\\\"},{\\\"P_Capacity\\\":\\\"232.203\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692383\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692832\\\",\\\"P_Bottom_Flatness\\\":\\\"0.454500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692051\\\",\\\"P_Shipment_SOC\\\":\\\"48.74%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692832\\\",\\\"BARCODE\\\":\\\"E6M0101 00197 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:56:40\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693259\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692201\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692917\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693003\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.420000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692457\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693046\\\",\\\"P_Bottom_Flatness\\\":\\\"0.241500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693142\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693345\\\",\\\"BARCODE\\\":\\\"E6M0101 00281 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:10:09\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693217\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.69311\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692992\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693131\\\"},{\\\"P_Capacity\\\":\\\"232.127\\\",\\\"P_Weight\\\":\\\"29.469999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693249\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.69327\\\",\\\"P_Bottom_Flatness\\\":\\\"0.270000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"P_Shipment_SOC\\\":\\\"48.73%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693698\\\",\\\"BARCODE\\\":\\\"E6M0201 00319 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:21:09\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693794\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693484\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693324\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692447\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.420000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693174\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693046\\\",\\\"P_Bottom_Flatness\\\":\\\"0.282500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693613\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693784\\\",\\\"BARCODE\\\":\\\"E6M0201 00274 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:55:08\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693623\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.69311\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693687\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.69312\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693067\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693409\\\",\\\"P_Bottom_Flatness\\\":\\\"0.187500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692693\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692928\\\",\\\"BARCODE\\\":\\\"E6M0101 00257 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:02:39\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69265\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693409\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692874\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692714\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.410000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693345\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693719\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693174\\\",\\\"P_Bottom_Flatness\\\":\\\"0.277500\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693046\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00278 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:01:10\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69296\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.6928\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693602\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693302\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.410000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692928\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693142\\\",\\\"P_Bottom_Flatness\\\":\\\"0.257000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693003\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693452\\\",\\\"BARCODE\\\":\\\"E6M0201 00275 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:00:57\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692661\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693655\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693228\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693548\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.440001\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.69296\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693003\\\",\\\"P_Bottom_Flatness\\\":\\\"0.260000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693153\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693046\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"BARCODE\\\":\\\"E6M0201 00306 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:05:19\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693217\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693613\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692778\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692949\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.410000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.69265\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693163\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692436\\\",\\\"P_Bottom_Flatness\\\":\\\"0.084500\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692383\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00309 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:07:07\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692596\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692832\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692864\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693142\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.389999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693409\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693003\\\",\\\"P_Bottom_Flatness\\\":\\\"0.053500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693334\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693131\\\",\\\"BARCODE\\\":\\\"E6M0201 00300 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:10:28\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69327\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693313\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693013\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693088\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.430000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693709\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693666\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693324\\\",\\\"P_Bottom_Flatness\\\":\\\"0.078000\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693195\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00269 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:54:49\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693441\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693484\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693613\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693698\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.430000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692693\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692693\\\",\\\"P_Bottom_Flatness\\\":\\\"0.223500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693163\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693035\\\",\\\"BARCODE\\\":\\\"E6M0101 00284 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:13:44\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692682\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693013\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.69311\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693324\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.69312\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693559\\\",\\\"P_Bottom_Flatness\\\":\\\"0.326000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692971\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693035\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0101 00252 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:02:51\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69357\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.69265\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692318\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692928\\\"},{\\\"P_Capacity\\\":\\\"232.127\\\",\\\"P_Weight\\\":\\\"29.450001\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692735\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692607\\\",\\\"P_Bottom_Flatness\\\":\\\"0.131500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693217\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693078\\\",\\\"P_Shipment_SOC\\\":\\\"48.73%\\\",\\\"BARCODE\\\":\\\"E6M0201 00318 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:16:44\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692842\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692735\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693463\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693281\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693388\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693324\\\",\\\"P_Bottom_Flatness\\\":\\\"0.348000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692832\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693217\\\",\\\"BARCODE\\\":\\\"E6M0101 00255 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:02:45\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693687\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693527\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693548\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692575\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.420000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692522\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.69219\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692532\\\",\\\"P_Bottom_Flatness\\\":\\\"0.169500\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693784\\\",\\\"BARCODE\\\":\\\"E6M0101 00287 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:13:30\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692511\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693174\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692917\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692607\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.379999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692714\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.691805\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692789\\\",\\\"P_Bottom_Flatness\\\":\\\"0.313500\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693259\\\",\\\"BARCODE\\\":\\\"E6M0101 00288 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:13:24\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692767\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692992\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692821\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692949\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693035\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693698\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692992\\\",\\\"P_Bottom_Flatness\\\":\\\"0.258000\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693259\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0101 00256 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:55:02\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693024\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693238\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693142\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693367\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.420000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692554\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693013\\\",\\\"P_Bottom_Flatness\\\":\\\"0.105500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693281\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.69296\\\",\\\"BARCODE\\\":\\\"E6M0201 00301 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:05:13\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692971\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692586\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692757\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693292\\\"},{\\\"P_Capacity\\\":\\\"232.127\\\",\\\"P_Weight\\\":\\\"29.420000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692661\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692564\\\",\\\"P_Bottom_Flatness\\\":\\\"0.280500\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693131\\\",\\\"P_Shipment_SOC\\\":\\\"48.73%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693356\\\",\\\"BARCODE\\\":\\\"E6M0201 00317 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:21:15\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69296\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692917\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.69311\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692874\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.400000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692981\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693409\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692778\\\",\\\"P_Bottom_Flatness\\\":\\\"0.205500\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692436\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0101 00282 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:06:58\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693388\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692928\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693088\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692746\\\"},{\\\"P_Capacity\\\":\\\"232.855\\\",\\\"P_Weight\\\":\\\"29.379999\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693131\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692361\\\",\\\"P_Bottom_Flatness\\\":\\\"0.146000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693131\\\",\\\"P_Shipment_SOC\\\":\\\"48.85%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.693088\\\",\\\"BARCODE\\\":\\\"E6M0201 00299 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:05:32\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693302\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693484\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693356\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.691923\\\"},{\\\"P_Capacity\\\":\\\"232.203\\\",\\\"P_Weight\\\":\\\"29.440001\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692618\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692874\\\",\\\"P_Bottom_Flatness\\\":\\\"0.129000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693613\\\",\\\"P_Shipment_SOC\\\":\\\"48.74%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.6925\\\",\\\"BARCODE\\\":\\\"E6M0201 00205 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:56:46\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692928\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.69281\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692725\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692564\\\"}]\",\"MESSAGENAME\":\"RouterParmRelease\",\"idempotentId\":\"335cd96b-1fe9-4f9a-8678-210431619d1e\",\"time\":\"1718407500.155\",\"FACTORYNAME\":\"1000\",\"TRANSACTIONID\":\"1718276224.7405438\"}}"
	msg2 = "{\"messageType\":\"WRITE_PROPERTY\",\"deviceId\":\"Module_Baozhuang_FFT_Device_MQTT\",\"properties\":{\"RECIPIENT\":\"M\",\"REPLYSUBJECTNAME\":\"NA\",\"EVENTTIME\":\"2024-06-15 07:25:00\",\"EVENTUSER\":\"MES\",\"WORKSHOPSECTION\":\"M\",\"DATA\":\"[{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.410000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693238\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693163\\\",\\\"P_Bottom_Flatness\\\":\\\"0.515000\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692874\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692628\\\",\\\"BARCODE\\\":\\\"E6M0101 00279 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:07:13\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692671\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692896\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.693078\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693153\\\"},{\\\"P_Capacity\\\":\\\"232.294\\\",\\\"P_Weight\\\":\\\"29.410000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.693666\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.693602\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.693313\\\",\\\"P_Bottom_Flatness\\\":\\\"0.491000\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.694179\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00270 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 06:54:56\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.69342\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693174\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.694693\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.693046\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.430000\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692447\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692372\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692939\\\",\\\"P_Bottom_Flatness\\\":\\\"0.554500\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692447\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"BARCODE\\\":\\\"E6M0201 00312 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:22:52\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.692415\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.692329\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.69265\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692725\\\"},{\\\"P_Capacity\\\":\\\"232.388\\\",\\\"P_Weight\\\":\\\"29.370001\\\",\\\"6_P_SeriesVol_OCV2\\\":\\\"3.692767\\\",\\\"1_P_SeriesVol_OCV2\\\":\\\"3.692286\\\",\\\"4_P_SeriesVol_OCV2\\\":\\\"3.692832\\\",\\\"P_Bottom_Flatness\\\":\\\"0.396000\\\",\\\"P_Shipment_SOC\\\":\\\"48.83%\\\",\\\"2_P_SeriesVol_OCV2\\\":\\\"3.692928\\\",\\\"BARCODE\\\":\\\"E6M0101 00285 0H56-A 7\\\",\\\"1_P_SeriesVol_Time_OCV2\\\":\\\"2024-06-15 07:21:29\\\",\\\"7_P_SeriesVol_OCV2\\\":\\\"3.693153\\\",\\\"5_P_SeriesVol_OCV2\\\":\\\"3.693228\\\",\\\"3_P_SeriesVol_OCV2\\\":\\\"3.692543\\\",\\\"8_P_SeriesVol_OCV2\\\":\\\"3.692992\\\"}]\",\"MESSAGENAME\":\"RouterParmRelease\",\"idempotentId\":\"235ae81c-4f11-47ea-85db-bf41d4bce96a\",\"time\":\"1718407500.157\",\"FACTORYNAME\":\"1000\",\"TRANSACTIONID\":\"1718276224.7405438\"}}"
)

func TestPublish(t *testing.T) {
	// 新建连接
	exchange, route, queue := initRabbit()

	rabbit := NewRabbitMQ(exchange, route, queue)
	defer rabbit.Close()
	for i := 0; i < 10; i++ {
		rabbit.SendMessage(Message{Body: "这是一条普通消息"})
		rabbit.SendDelayMessage(Message{Body: "这是一条延时5秒的消息", DelayTime: 5})
	}
	time.Sleep(time.Second * 3)
}

func TestYaoNeng(t *testing.T) {
	// 新建连接
	exchange, route, queue := initRabbit()

	rabbit := NewRabbitMQ(exchange, route, queue)
	defer rabbit.Close()
	for i := 0; i < 10; i++ {
		time.Sleep(time.Second * 3)
		rabbit.SendMessage(Message{Body: msg1})
		rabbit.SendDelayMessage(Message{Body: msg2})
	}
	time.Sleep(time.Second * 3)
}
